# 聰明餘料回收系統 - 專案規格書

---

### **專案概述**
本專案旨在開發一套「聰明餘料回收系統」。

此系統將透過自動化影像擷取方式，精確識別雷射切割後板材（餘料）之輪廓，並將其轉換為數位化圖檔儲存。目標在於提升餘料利用效率，減少資源浪費，進而達成成本節省之效益。

---

### **1. 專案目標與範圍**

#### **本專案範圍涵蓋以下工作:**
*   **影像擷取:** 透過攝影設備自動獲取剩餘材料之影像。
*   **輪廓識別:** 電腦系統自動處理影像，精確辨識並計算剩餘材料的外部輪廓。
*   **DXF 圖檔生成:** 將計算所得的輪廓資料轉換為標準的設計交換格式 (DXF) 檔案。
*   **資料儲存:** 自動將生成的 DXF 圖檔儲存至客戶指定的網路附加儲存 (NAS)。
*   **系統操作介面:** 提供指令列介面 (CLI) 供系統操作使用，並附帶相關說明文件。

#### **以下事項不在本次專案範圍內:**
*   即時影像處理或追蹤功能。
*   對材料進行物理搬運或操作之自動化。
*   除指令列介面 (CLI) 外，提供圖形化使用者介面 (GUI)。
*   對材料進行顏色、紋理、類型等進階分析。

### **2. 性能要求**

*   **工作區域:** 系統需能完整覆蓋 **2公尺 x 4公尺** 之作業範圍。
*   **輪廓精度:** 系統所生成之 DXF 輪廓與實際材料尺寸之誤差，須控制在 **正負 5 毫米** 以內。
*   **處理週期:** 從影像擷取觸發至 DXF 圖檔儲存完成之完整流程，預計於 **60 秒** 內完成 (此為初步目標，最終需與客戶確認)。

### **3. 系統架構**

#### **3.1. 硬體組成**
| 元件 | 型號/規格 | 主要功能說明 |
| --- | --- | --- |
| 工業相機 | (x4) MV-CH120-20GC | 負責擷取工作區域之影像。 |
| 工業鏡頭 | (x4) MVL-KF0618M-12MPE | 相機光學組件。 |
| 嵌入式電腦 | 搭載 N305 處理器 | 作為系統主要運算與影像處理單元。 |
| 網路交換器 | 6 或 8 埠 PoE 路由器 | 提供設備網路連接及相機電源供應。 |
| 鏡頭防護盒 | 鏡頭防塵防護盒 | 保護相機鏡頭免受環境影響。 |
| 網路儲存裝置 | NAS (客戶提供) | 用於儲存最終生成的 DXF 圖檔。 |

#### **3.2. 軟體與功能流程**
1.  **流程觸發:** 流程可透過手動指令、軟體命令或外部感應器信號啟動。
2.  **影像擷取:** 四台相機同步擷取工作區域之影像。
3.  **影像處理:**
    *   系統將對影像進行**鏡頭畸變校正**，以消除光學變形。
    *   校正後的四張影像將**無縫拼接**成一張代表完整工作區域的圖像。
    *   接著，系統將應用演算法**精確識別剩餘材料的輪廓**。
4.  **DXF 圖檔轉換:** 偵測到的輪廓資料將轉換為標準 DXF 格式之檔案。
5.  **檔案儲存:** 生成的 DXF 圖檔將依據預設命名規則，自動儲存至指定之 NAS 資料夾。

### **4. 關鍵績效指標 (KPIs) 與驗收標準**

| 驗收項目 | 成功標準 | 測量方式 |
| --- | --- | --- |
| **輪廓精度** | 誤差在 +/- 5mm 以內 | 於工作區域放置已知尺寸之標準樣板。系統轉換後之 DXF 圖檔尺寸，須符合樣板尺寸之公差範圍。此測試將於不同位置重複執行 10 次。 |
| **系統可靠性** | 完整週期成功率 >99% | 於 200 次測試運行中，因系統或處理錯誤導致之失敗次數，應少於 2 次。 |
| **處理時間** | 從觸發至檔案儲存，時間在 60 秒內 | 記錄每次測試循環之總處理時間。 |

---

### **5. 待釐清與討論事項 (與客戶確認要點)**

為確保專案能順利進行並符合預期，以下關鍵事項需與客戶進一步確認：

1.  **現場環境之光照穩定性:**
    *   現場工作環境的光線是否一致且穩定？光線波動可能影響影像擷取品質與輪廓偵測準確性。是否需考慮加裝專用照明設備？
2.  **相機安裝與校準方案:**
    *   四台相機之實體安裝規劃為何？為達 +/- 5mm 精度要求，需要穩固的安裝結構及精確的校準程序。
3.  **嵌入式電腦之完整規格:**
    *   除 N305 處理器外，請確認嵌入式電腦之記憶體 (RAM) 與儲存空間 (Storage) 完整規格，以確保足以應對影像處理負載。
4.  **系統啟動觸發機制:**
    *   測量流程應如何啟動？例如：透過實體按鈕、軟體命令，或由感應器自動偵測材料存在？
5.  **DXF 圖檔之具體要求:**
    *   是否需要特定之 DXF 版本 (如 R14, 2000, 2018) 以確保與現有系統相容？
    *   圖檔之命名規則為何？(例如：`日期_時間.dxf` 或 `材料ID_時間戳.dxf`)。
6.  **NAS 存取路徑與權限:**
    *   請提供 NAS 上目標資料夾之確切網路路徑。
    *   系統寫入檔案所需之存取憑證或權限為何？
7.  **錯誤處理與報告機制:**
    *   當系統遭遇錯誤時 (例如：無法偵測輪廓、NAS 無法連線)，應如何處理與報告？是儲存日誌、發送警報，或有其他處理方式？
8.  **精度驗收之額外考量:**
    *   我們建議使用已知尺寸之標準樣板進行精度驗收，此方法是否符合您的需求？是否有其他特殊材料或測試情境需要納入考量？

---
